<div class="controls mt-5">

   <div></div>

   <!-- Sorting Actions -->
   <div class="controls-actions">

      <!-- Sorting Fields Dropdown -->
      <div>
         <!-- Dropdown Trigger -->
         <button
            [brnMenuTriggerFor]="sortingFieldsSelectDropdown"
            [class]="tablor.getSortingOptions(false).length > 0 ? 'py-2 h-[unset]' : ''"
            hlmBtn
            variant="outline"
            class="flex flex-row gap-x-0.5 shadow-lg"
         >
            Sort
            @if (tablor.getSortingOptions(false).length > 0) {
               <div class="pe-1">by:</div>
               @for (option of tablor.getSortingOptions(false); track option) {
                  <div>
                     {{ tablor.getFields()[option.field]?.title }}
                     <ng-icon
                        hlm
                        hlmMenuIcon
                        [name]="tablor.getSortingFieldOrder(option.field) === 'ASC' ? 'lucideChevronDown' : 'lucideChevronUp'"
                        class="text-sm"
                     />
                  </div>
               }
            }
         </button>
         <!-- Dropdown Trigger -->

         <!-- Dropdown Template -->
         <ng-template #sortingFieldsSelectDropdown>
            <hlm-menu>
               <ng-scrollbar hlm class="h-52 w-48">
                  <!-- Clear Sorting Button -->
                  <button
                     (click)="clearSort()"
                     class="px-2 py-1.5 text-sm w-full text-start bg-gray-200 hover:bg-gray-300 rounded"
                  >
                     Clear Sorting
                  </button>
                  <!-- Clear Sorting Button -->

                  @for (field of tablor.getFieldsAsArray(); track field.key) {
                     <!-- Field Sorting Button -->
                     <button
                        class="px-2 py-1.5 text-sm w-full text-start hover:bg-gray-100 rounded"
                        (click)="sort(field.key)"
                     >
                        <span>{{ field.title }}</span>
                        @if (tablor.getSortingFieldKeys().includes(field.key) && tablor.getSortingFieldOrder(field.key) !== 'NONE') {
                           <ng-icon
                              hlm hlmMenuIcon
                              [name]="tablor.getSortingFieldOrder(field.key) === 'ASC' ? 'lucideChevronDown' : 'lucideChevronUp'"
                           />
                        }
                     </button>
                     <!-- Field Sorting Button -->
                  }
               </ng-scrollbar>
            </hlm-menu>
         </ng-template>
         <!-- Dropdown Template -->
      </div>
      <!-- Sorting Fields Dropdown -->

      <!-- Multiple Sorting Dropdown -->
      <div class="flex items-center">
         <!-- Dropdown Trigger -->
         <button [brnMenuTriggerFor]="multipleFieldsSortingDropdown" class="px-2 mx-1">
            <ng-icon hlm name="lucideChevronDown" size="sm"/>
         </button>
         <!-- Dropdown Trigger -->

         <!-- Dropdown Template -->
         <ng-template #multipleFieldsSortingDropdown>
            <hlm-menu>
               <label hlmLabel class="flex items-center ps-2 pe-4 py-1">
                  <hlm-checkbox [(ngModel)]="multipleFieldsSorting" class="mr-2"/>
                  Multiple Fields Sorting
               </label>
            </hlm-menu>
         </ng-template>
         <!-- Dropdown Template -->
      </div>
      <!-- Multiple Sorting Dropdown -->

   </div>
   <!-- Sorting Actions -->

</div>
